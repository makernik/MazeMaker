<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MakerNik Maze Generator</title>
    <link rel="icon" href="/favicon.svg" type="image/svg+xml" />
    <link rel="stylesheet" href="./styles/main.css" />
  </head>
  <body>
    <div class="app-layout">
      <!-- Control Panel (Left) -->
      <aside class="control-panel">
        <header class="panel-header">
          <h1>Maze Generator</h1>
          <p class="tagline">Printable maze packs for kids</p>
        </header>

        <form class="controls" id="maze-form">
          <!-- Select level: vertical list, label + age (parentheses) -->
          <fieldset class="control-group">
            <legend>Select level</legend>
            <div class="level-select" role="radiogroup" aria-label="Select level">
              <label class="level-option">
                <input type="radio" name="age-range" value="3" checked />
                <span class="level-option__label">Intro</span>
                <span class="level-option__age">(3)</span>
              </label>
              <label class="level-option">
                <input type="radio" name="age-range" value="4-5" />
                <span class="level-option__label">Easy</span>
                <span class="level-option__age">(4–5)</span>
              </label>
              <label class="level-option">
                <input type="radio" name="age-range" value="6-8" />
                <span class="level-option__label">Medium</span>
                <span class="level-option__age">(6–8)</span>
              </label>
              <label class="level-option">
                <input type="radio" name="age-range" value="9-11" />
                <span class="level-option__label">Hard</span>
                <span class="level-option__age">(9–11)</span>
              </label>
              <label class="level-option">
                <input type="radio" name="age-range" value="12-14" />
                <span class="level-option__label">Challenging</span>
                <span class="level-option__age">(12–14)</span>
              </label>
              <label class="level-option">
                <input type="radio" name="age-range" value="15-17" />
                <span class="level-option__label">Difficult</span>
                <span class="level-option__age">(15–17)</span>
              </label>
              <label class="level-option">
                <input type="radio" name="age-range" value="18+" />
                <span class="level-option__label">Epic Adventure</span>
                <span class="level-option__age">(18+)</span>
              </label>
            </div>
          </fieldset>

          <!-- Maze Style: Toggle Group -->
          <fieldset class="control-group">
            <legend>Maze Style</legend>
            <div class="toggle-group" role="radiogroup" aria-label="Maze Style">
              <label class="toggle">
                <input type="radio" name="maze-style" value="classic" checked />
                <span>Classic</span>
              </label>
              <label class="toggle">
                <input type="radio" name="maze-style" value="organic" />
                <span>Organic</span>
              </label>
              <label class="toggle">
                <input type="radio" name="maze-style" value="square" />
                <span>Square Corners</span>
              </label>
            </div>
          </fieldset>

          <!-- Theme: Toggle Group (hidden for this iteration; backend still supports theme param) -->
          <fieldset class="control-group theme-paused" aria-hidden="true" hidden>
            <legend>Theme</legend>
            <div class="toggle-group" role="radiogroup" aria-label="Theme">
              <label class="toggle">
                <input type="radio" name="theme" value="none" checked />
                <span>None</span>
              </label>
              <label class="toggle">
                <input type="radio" name="theme" value="shapes" />
                <span>Shapes</span>
              </label>
              <label class="toggle">
                <input type="radio" name="theme" value="animals" />
                <span>Animals</span>
              </label>
            </div>
          </fieldset>

          <!-- Quantity: Slider with Numeric Display -->
          <div class="control-group">
            <label for="quantity" class="quantity-label">
              Quantity: <output id="quantity-display" for="quantity">5</output>
            </label>
            <div class="slider-container">
              <span class="slider-bound">1</span>
              <input 
                type="range" 
                id="quantity" 
                name="quantity"
                min="1" 
                max="10" 
                value="5"
                aria-describedby="quantity-display"
              />
              <span class="slider-bound">10</span>
            </div>
          </div>

          <!-- Primary Action -->
          <button id="generate-btn" type="submit" class="primary-action">
            Generate Printable PDF
          </button>

          <!-- Status -->
          <p id="status" class="status" aria-live="polite"></p>

          <!-- Debug panel (hidden unless debug mode) -->
          <section id="debug-panel" class="debug-panel" aria-label="Debug info" hidden>
            <h2 class="debug-panel__title">Debug</h2>
            <div class="debug-panel__option">
              <label>
                <input type="checkbox" id="debug-one-of-each" name="debug-one-of-each" />
                <span>1 of each</span>
              </label>
              <p class="debug-panel__option-hint">Generate one maze per difficulty level.</p>
            </div>
            <div class="debug-panel__option">
              <label>
                <input type="checkbox" id="debug-show-solution" name="debug-show-solution" checked />
                <span>Show solution</span>
              </label>
              <p class="debug-panel__option-hint">Draw solver path on PDF (prove capabilities). Uncheck to test difficulty without solution.</p>
            </div>
            <div class="debug-panel__option">
              <label for="debug-preview-seed">Preview seed</label>
              <input type="text" id="debug-preview-seed" inputmode="numeric" placeholder="e.g. 12345" title="Seed for preview; edit to preview a specific maze (e.g. from PDF footer)" />
              <p class="debug-panel__option-hint">Populated with current preview seed. Change to preview that maze (e.g. paste seed from PDF footer).</p>
            </div>
            <dl class="debug-panel__list">
              <dt>Last PDF seed</dt>
              <dd id="debug-seed" class="debug-panel__value">—</dd>
              <dt>Grid</dt>
              <dd id="debug-grid" class="debug-panel__value">—</dd>
              <dt>Cell size</dt>
              <dd id="debug-cell-size" class="debug-panel__value">—</dd>
              <dt>Line thickness</dt>
              <dd id="debug-line-thickness" class="debug-panel__value">—</dd>
            </dl>
            <p class="debug-panel__hint">Footer shows difficulty and age range when debug is on.</p>
          </section>
        </form>

        <footer class="panel-footer">
          <p>makernik.com</p>
        </footer>
      </aside>

      <!-- Preview Area (Right) -->
      <main class="preview-area">
        <div class="maze-background" aria-hidden="true"></div>
        <div class="sample-preview" aria-live="polite">
          <p class="sample-preview__label">Sample output</p>
          <canvas id="sample-preview-canvas" class="sample-preview__canvas" width="560" height="720"></canvas>
        </div>
      </main>
    </div>

    <script type="module" src="./main.js"></script>
  </body>
</html>
